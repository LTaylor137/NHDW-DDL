-- Student ID: 103200214
-- Name: Lachlan Taylor
-- 1/9/2021



-- SELECT NAME FROM SYS.DATABASES;

-- CREATE DATABASE NHDW0214;

-- USE NHDW0214;

-- SELECT * FROM INFORMATION_SCHEMA.TABLES;

-- SELECT * FROM DBO.DWPATIENT;



DROP TABLE IF EXISTS DWPATIENT;
GO

CREATE TABLE DWPATIENT
(
    DWPATIENTID INTEGER NOT NULL,
    URNUMBER NVARCHAR(50) NOT NULL,
    GENDER NVARCHAR(50) NOT NULL
        CHECK(GENDER IN ('Male','Female','Other')),
    DOB DATE NOT NULL,
    SUBURB NVARCHAR(50) NOT NULL,
    POSTCODE NVARCHAR(4) NOT NULL,
    COUNTRYOFBIRTH NVARCHAR(50) NOT NULL,
    PREFFEREDLANGUAGE NVARCHAR(50) NOT NULL,
    LIVESALONE NVARCHAR(3) NOT NULL,
    CHECK(LIVESALONE IN ('Yes','No')),
    ACTIVE NVARCHAR(3) NOT NULL
        CHECK(ACTIVE IN ('Yes','No')),
    CATEGORYID INTEGER NOT NULL,
    CATEGORYNAME NVARCHAR(255) NOT NULL,
    PROCEDUREDATE DATETIME NOT NULL,
    PRIMARY KEY (DWPATIENTID)
);

GO

-- dummy insertion data for DWPATIENT

-- INSERT INTO DWPATIENT
--     (DWPATIENTID, URNUMBER, GENDER, DOB, SUBURB,
--     POSTCODE, COUNTRYOFBIRTH, PREFFEREDLANGUAGE, LIVESALONE,
--     ACTIVE, CATEGORYID, CATEGORYNAME, PROCEDUREDATE)
-- VALUES
--     ('001', 'UR0021', 'Male', '1931-11-11', 'TOWN', '3000',
--         'MALTA', 'ENGLISH', 'No', 'Yes',
--         '07', 'COPD', '2020-01-13 04:45:50')
-- GO



DROP TABLE IF EXISTS DWSTAFF;
GO

CREATE TABLE DWSTAFF
(
    DWSTAFFID INTEGER NOT NULL,
    STAFFID INTEGER NOT NULL,
    ROLEID INTEGER NOT NULL,
    STAFFTYPE NVARCHAR(50) NOT NULL,
    PRIMARY KEY (DWSTAFFID)
);

GO


-- dummy insertion data for DWSTAFF

-- INSERT INTO DWSTAFF
--     (DWSTAFFID, STAFFID, ROLEID, STAFFTYPE)
-- VALUES
--     ('001', 'UR0021', 'Male', '1931-11-11', 'TOWN', '3000',
--         'MALTA', 'ENGLISH', 'No', 'Yes',
--         '07', 'COPD', '2020-01-13 04:45:50')
-- GO






